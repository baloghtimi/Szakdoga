%----------------------------------------------------------------------------
\chapter{Esettanulmány}\label{chap:casestudy}
%----------------------------------------------------------------------------

Nagy, összetett ipari rendszerek tervezésében széles körben elterjedt módszer a modellvezérelt szoftverfejlesztés. Az ehhez jelenleg rendelkezésre álló modellezõeszközök gyakran ütköznek skálázhatósági korlátokba. A MONDO EU FP7 kutatási projekt \cite{mondoeufp7} célja ezen kihívások megoldása olyan technológiák, algoritmusok, eszközök kifejlesztésével, amelyek a mostaninál nagyobb hatékonyságot, rugalmasságot biztosítanak a rendszermodellezés terén. A projekt nemzetközi ipari résztvevõi közül egy szélturbina-vezérlõ egységeket összefogó rendszer esettanulmányát vizsgáltam.

A rendszer leegyszerûsített struktúráját \aref{fig:metamodel} ábra szemlélteti. A szélturbina vezérlõegységei a modellen belül alrendszerekbe csoportosulnak, ezeken kívül pedig még bemenetek, kimenetek, hibadetektorok, idõzítõk, változók és paraméterek is vannak a rendszerben.

\begin{figure}[h]
	\begin{center}
		\includegraphics[width=0.6\columnwidth]{src/figures/windturbinemodel}
		\caption{A szélturbina-vezérlõ rendszer felépítése}
		\label{fig:windturbinemodel}
	\end{center}
\end{figure}

A modell fejlesztése kollaboratív módon zajlik. Különbözõ beosztású és szaktudású mérnökök dolgoznak rajta, akik számára a modellnek egy-egy olyan egyedi nézetét kell biztosítani, amelyben csak a számukra szükséges elemek találhatók. Továbbá azt is szabályozni kell, hogy csak azokon a részeken végezhessenek módosításokat, amelyekhez értenek, vagy pozíciójukból adódóan joguk van hozzá. Jelen esetben három különbözõ feladatkörrel rendelkezõ felhasználótípust definiáltam: Principal Engineer, I/O Manager és Subsystem Manager, akikre az érvényesíteni kívánt hozzáférési szabályok a következõk:

\begin{itemize}
	\item A fõ szerkezeti egységet senki nem módosíthatja.
	\item \textbf{Principal Engineer:} adminisztrátor jogokkal rendelkezik. A fõ szerkezeti egységen kívül mindent láthat és módosíthat.
	\item \textbf{I/O Manager:} a be- és kimenetek felelõse, ezeket olvashatja és írhatja, de a modell többi része számára rejtett.
	\item \textbf{Subsystem Manager:} A Principal Engineer-hez képest annyival van kevesebb joga, hogy a be- és kimeneteket csak láthatja, de nem módosíthatja.
\end{itemize}

Ezeket a szabályokat szemlélteti \aref{fig:permissions} ábra, amelyen zöld keret jelöli azokat a modellelemeket, amelyekhez az adott felhasználó olvasási és írási jogosultsággal is rendelkezik, sárga azokat, amelyeket csak láthat, de nem módosíthat, valamit piros azokat, amelyekhez egyáltalán nem férhet hozzá.

\begin{figure}[h]
	\centering
	\begin{subfigure}[b]{0.4\textwidth}
		\includegraphics[width=\textwidth]{src/figures/principalengineer}
		\caption{Principal Engineer}
		\label{fig:principalengineer}
	\end{subfigure}
	\begin{subfigure}[b]{0.4\textwidth}
		\includegraphics[width=\textwidth]{src/figures/iomanager}
		\caption{I/O Manager}
		\label{fig:iomanager}
	\end{subfigure}
    \par\bigskip
    \begin{subfigure}[b]{0.4\textwidth}
	    \includegraphics[width=\textwidth]{src/figures/subsystemmanager}
	    \caption{Subsystem Manager}
	    \label{fig:subsystemmanager}
    \end{subfigure}
    \par\bigskip
    \begin{subfigure}[b]{0.35\textwidth}
    	\includegraphics[width=\textwidth]{src/figures/legend1}
    	\caption{Jelmagyarázat}
    	\label{fig:legend}
    \end{subfigure}
	\caption{A felhasználókra vonatkozó hozzáférési szabályok}
	\label{fig:permissions}
\end{figure}

A feladat elsõ lépésben ezeknek a szabályoknak egy erre a célra kifejlesztett, egyszerû nyelven való megfogalmazása. A közöttük adódó konfliktusok feloldására pedig szükséges egy olyan komponens implementálása, ami képes ezeket szabályokat értelmezni, ha vannak, akkor a közöttük lévõ ellentmondásokat feloldani, majd futásának eredményeképp kiválogatni közülük a ténylegesen érvényre jutó, effektív jogosultságokat. 
